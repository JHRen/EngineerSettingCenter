<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="McncheckSAMSUNGMapper">
        <!--表名 -->
    <sql id="tableName">
        ATC_CP_SAMSUNG_MCN_Check
    </sql>
    
    <!-- 列表 -->
    <select id="datalistPage" parameterType="page" resultType="pd">
     select 
        [idx]
      ,[TargetDevice]
      ,[Nickname]
      ,[QCTname]
      ,[MCNDevice]
     FROM
       <include refid="tableName"></include>
     where   1=1
     <if test="pd.keywords!= null and pd.keywords != ''"><!-- 关键词检索 --> 
     and [TargetDevice] LIKE ('%' + #{pd.keywords} + '%')
     </if>
     [fhstart]order by idx desc[fhend]
     
    </select>
    
        <!-- 删除-->
    <delete id="delete" parameterType="pd">
        delete from
            <include refid="tableName"></include>
        where 
            [idx] = #{idx}
    </delete>
    
    <!-- 保存 -->
    <insert id="save" parameterType="pd">
    insert into
             <include refid="tableName"></include>
      (
       [TargetDevice]
      ,[Nickname]
      ,[QCTname]
      ,[MCNDevice]
        )
    values(
    #{TargetDevice}
    ,#{Nickname}
    ,#{QCTname}
    ,#{MCNDevice}
    )   
    </insert>
    
    <!-- 通过id查询 -->
    <select id="findById" parameterType="pd" resultType="pd" >
    select 
        idx
      ,[TargetDevice]
      ,[Nickname]
      ,[QCTname]
      ,[MCNDevice]
     from 
        <include refid="tableName"></include>
     where idx=#{idx}
    </select>
    
    
    <!-- 查询是否有重复主键 -->
    <select id="finBySimilar" parameterType="pd" resultType="int" >
    select 
       count([idx])
     from <include refid="tableName"></include>
     where 
            TargetDevice   =   #{TargetDevice} 
    </select>
    
    <!-- 修改 -->
    <update id="edit" parameterType="pd">
    update 
            <include refid="tableName"></include>
   set
       TargetDevice     = #{TargetDevice}
      ,Nickname         = #{Nickname}
      ,QCTname          = #{QCTname}
      ,MCNDevice        = #{MCNDevice}
     where
     idx=#{idx}
    </update>
</mapper>