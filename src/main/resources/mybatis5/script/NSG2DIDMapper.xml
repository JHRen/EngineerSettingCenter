<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="NSG2DIDMapper">
	<!--表名 -->
	<sql id="tableName">
		NSG_2DID_BIN_INFO
	</sql>
	
	<!-- 字段 -->
	<sql id="Field">
	  LOTNO,
	  DEVICE,
	  TEST_STEP,
	  BINNO,
	  FID,
	  UPDATETIME,
	  SLOTNO,
	  DUTNO,
	  INSERTIONTIME
	</sql>
	
	<!-- 字段值 -->
	<sql id="FieldValue">
	  #{LOTNO},
	  #{DEVICE},
      #{TEST_STEP},
      #{BINNO},
      #{FID},
      #{UPDATETIME},
      #{SLOTNO},
      #{DUTNO},
      #{INSERTIONTIME}
	</sql>
	
	
    <!-- 列表 -->
    <select id="datalistPage" parameterType="page" resultType="pd">
        select
        <include refid="Field"></include>
        FROM
        <include refid="tableName"></include>
        where 1=1
		<if test="pd.keywords!= null and pd.keywords != ''"><!-- 关键词检索 -->
        <!-- orcle模糊查询语法格式 需要用 '%'||#{pd.keywords}||'%' 写法 -->
            and LOTNO LIKE ('%'||#{pd.keywords}||'%')
        </if>
        <if test="pd.TEST_STEP!= null and pd.TEST_STEP != ''"><!-- 关键词检索 -->
            and TEST_STEP LIKE ('%'||#{pd.TEST_STEP}||'%')
        </if>
          
		order by UPDATETIME  desc
	</select>
	
	
	<!-- 删除 -->
	   <delete id="delete" parameterType="pd">
        delete from
        <include refid="tableName"></include>
        where
         LOTNO= #{LOTNO} AND
         TEST_STEP= #{TEST_STEP} 
    </delete>
</mapper>